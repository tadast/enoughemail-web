.container.mx-auto
  .m-10.border.rounded-lg.bg-indigo-50
    .p-6.border-b.border-gray-200.bg-indigo-200
      %h3.text-xl.font-semibold Cheat-sheet
      %p To create new rules, forward an unwanted email to one of the filter email addresses:

    %h4.font-semibold.text-md.p-6.pb-2 For everyone in your organization
    %ul.rounded-lg.text-gray-900
      %li.px-6.py-2.border-b.border-gray-200.w-full.rounded-t-lg
        %span.font-medium.text-indigo-900 everyone@had.enoughemail.com
        to block the sender.
      %li.px-6.py-2.border-b.border-gray-200.w-full
        %span.font-medium.text-indigo-900 everyone-domain@had.enoughemail.com
        to block the entire sender's domain name.

    %h4.font-semibold.text-md.p-6.pb-2 For yourself only
    %ul.rounded-lg.text-gray-900
      %li.px-6.py-2.border-b.border-gray-200.w-full
        %span.font-medium.text-indigo-900 i@had.enoughemail.com
        to block the sender.
      %li.px-6.py-2.w-full
        %span.font-medium.text-indigo-900 i-domain@had.enoughemail.com
        to block the entire sender's domain.

  %h1.text-3xl.m-10 Your organization's filter rules

  - if @filter_rules.any?
    .vc--rules-table.m-10.overflow-auto.border{style: "max-height: 60vh;"}
      %table.min-w-full
        %thead.bg-white.border-b
          %tr.sticky.top-0.bg-white
            %th.font-medium.text-gray-900.px-6.py-4.text-left Email pattern
            %th.text-sm.font-medium.text-gray-900.px-6.py-4.text-left Scope
            %th.text-sm.font-medium.text-gray-900.px-6.py-4.text-left Created By
            %th.text-sm.font-medium.text-gray-900.px-6.py-4.text-left Created At
            %th.text-sm.font-medium.text-gray-900.px-6.py-4.text-left

        %tbody
          - @filter_rules.each do |filter_rule|
            %tr.odd:bg-gray-100.border-b
              %td.ext-sm.text-gray-900.font-medium.px-6.py-4.whitespace-nowrap= filter_rule.email_pattern
              %td.ext-sm.text-gray-900.font-light.px-6.py-4.whitespace-nowrap= filter_rule.scope.sub(/for_/, '').titleize
              %td.ext-sm.text-gray-900.font-light.px-6.py-4.whitespace-nowrap= filter_rule.user.email
              %td.ext-sm.text-gray-900.font-light.px-6.py-4.whitespace-nowrap= filter_rule.created_at.strftime("%Y %b %d, %H:%M")
              %td.ext-sm.text-gray-900.font-light.px-6.py-4.whitespace-nowrap= button_to 'Remove', filter_rule, class: "underline text-indigo-700", method: :delete, data: { "turbo-confirm" => 'Are you sure?' }
  - else
    %p.m-10 There are no Filter Rules set up yet.
    -# = link_to 'New Filter rule', new_filter_rule_path
